process Rec = 
{
	untracked PSet maxEvents = { untracked int32 input = 5 }

        untracked PSet configurationMetadata = {
           untracked string version = "$Revision: 1.5 $"
           untracked string name = "$Source: /cvs_server/repositories/CMSSW/CMSSW/SimGeneral/TrackingAnalysis/test/Zee_pythia_allReco.cfg,v $"
           untracked string annotation = "RelVal Z to ee"
        }

#include "Configuration/ReleaseValidation/data/Services.cff"
    
  include "Configuration/StandardSequences/data/SimulationRandomNumberGeneratorSeeds.cff"
  include "Configuration/StandardSequences/data/FakeConditions.cff"

  untracked PSet options = 
  {
    include "FWCore/Framework/test/cmsExceptionsFatalOption.cff"
    untracked bool wantSummary = true
    untracked bool makeTriggerResults = true 
  }

  source = PythiaSource 
  { 
    untracked bool pythiaVerbosity = false

    PSet PythiaParameters = 
    {

      vstring parameterSets = 
      {
        "pythiaZee"
      }

      vstring pythiaZee = 
      {
        "MSEL = 11 ",           
        "MDME( 174,1) = 0            !Z decay into d dbar",
        "MDME( 175,1) = 0            !Z decay into u ubar",
        "MDME( 176,1) = 0            !Z decay into s sbar",
        "MDME( 177,1) = 0            !Z decay into c cbar",
        "MDME( 178,1) = 0            !Z decay into b bbar",
        "MDME( 179,1) = 0            !Z decay into t tbar",
        "MDME( 182,1) = 1            !Z decay into e- e+",
        "MDME( 183,1) = 0            !Z decay into nu_e nu_ebar",
        "MDME( 184,1) = 0            !Z decay into mu- mu+",
        "MDME( 185,1) = 0            !Z decay into nu_mu nu_mubar",
        "MDME( 186,1) = 0            !Z decay into tau- tau+",
        "MDME( 187,1) = 0            !Z decay into nu_tau nu_taubar",
        "MSTJ( 11) = 3               !Choice of the fragmentation function",
        "MSTP( 2) = 1                !which order running alphaS",
        "MSTP( 33) = 0               !(D=0) ",
        "MSTP( 51) = 7               !structure function chosen",
        "MSTP( 81) = 1               !multiple parton interactions 1 is Pythia default",
        "MSTP( 82) = 4               !Defines the multi-parton model",
        "PARJ( 71) = 10.             !for which ctau  10 mm",
        "PARP( 82) = 1.9             !pt cutoff for multiparton interactions",
        "PARP( 89) = 1000.           !sqrts for which PARP82 is set",
        "PARP( 83) = 0.5             !Multiple interactions: matter distrbn parameter Registered by Chris.Seez@cern.ch",
        "PARP( 84) = 0.4             !Multiple interactions: matter distribution parameter Registered by Chris.Seez@cern.ch",
        "PARP( 90) = 0.16            !Multiple interactions: rescaling power Registered by Chris.Seez@cern.ch",
        "CKIN( 1) = 40.              !(D=2. GeV)",
        "CKIN( 2) = -1.              !(D=-1. GeV)"
      }
    }
  }

  include "FWCore/MessageService/data/MessageLogger.cfi"

  include "Configuration/StandardSequences/data/Reconstruction.cff"
  include "Configuration/StandardSequences/data/Simulation.cff"
  include "Configuration/StandardSequences/data/MixingNoPileUp.cff" 
  include "Configuration/StandardSequences/data/VtxSmearedGauss.cff" 

  path p1 = {psim} # simulation
  path p2 = {pdigi} # digitization
  path p3 = {reconstruction_plusRS_plus_GSF} # reconstruction

  # Event output
  include "Configuration/EventContent/data/EventContent.cff"

  module FEVT = PoolOutputModule 
  { 
    untracked string fileName = "Zee_pythia_withTkElectrons.root"

    # Drop the first product instance keeping only the merged collection
    untracked vstring outputCommands = {
      "keep *",
      "drop *_mergedtruth__*"
    }
  
    untracked PSet dataset ={
      untracked string dataTier = "GEN-SIM-DIGI-RECO"
    }
  }

  endpath outpath = {FEVT}

  # schedule = {p1,p2,p3,outpath}
  schedule = {p1,p2,outpath}

}
